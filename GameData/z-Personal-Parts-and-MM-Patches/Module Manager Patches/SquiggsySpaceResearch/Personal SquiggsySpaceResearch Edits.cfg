//----------------------------------------------------
//---- FiiZzioN's Edits For SquiggsySpaceResearch ----
//----------------------------------------------------
//
// 1.) Part Edits
// 2.) Part Additions
// 3.) RemoteTech Config
//
//----------------------------------------------------
// Part Edits
//----------------------------------------------------
@PART[35decoupler]FOR:[SquiggsySpaceResearch]
{
	@title = Squarified to Octagonal Adapter (Decoupler)

	%MODULE[TweakScale]
	{
		%name = TweakScale
        %type = free
	}
}

@PART[MICROBATSQUARE]
{
	title = SSR MB-50
	%RESOURCE[ElectricCharge]
	{
		%name = ElectricCharge
		%amount = 50
		%maxAmount = 50
	}
}

@PART[microIon]
{
	@MODULE[ModuleEngines*]
	{
		!atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 3200
			key = 1 75
			key = 1.2 0.01
		}
	}
}

@PART[micrortg]
{
	@cost = 3800
	@entryCost = 11800
	@TechRequired = advElectrics

	@MODULE[ModuleGenerator]
	{
		@OUTPUT_RESOURCE
		{
			name = ElectricCharge
			rate = 0.18
		}
	}
}

@PART[MicroSat] 
{	
	%RESOURCE[ElectricCharge]
	{
		%name = ElectricCharge
		%amount = 5
		%maxAmount = 5
	}
}

@PART[microXenon|radialMonopropnmicro|radialXenonmicro]:NEEDS[TweakScale]
{
	%MODULE[TweakScale]
	{
		%name = TweakScale
        %type = free
	}
}

@PART[MicroScanner]
{
	!node_stack_bottom {}
	node_stack_bottom = 0.0, 0.00066, 0.0, 0.0, -1.0, 0.0, 0
}

@PART[SASupgradeChip]
{
	@cost = 750
	@TechRequired = start

	%MODULE[ModuleSAS]
	{
		%name = ModuleSAS
		%SASServiceLevel = 3
	}
}

//----------------------------------------------------
// Part Additions 
//----------------------------------------------------

+PART[MICROBATSQUARE]
{
	%name = MICROBATSQUARELarge
	%title = SSR MB-100
	%entryCost = 1700
	%cost = 110
	%mass = 0.013

	MODEL
	{
		model = SquiggsySpaceResearch/Parts/MicroSat/MicroBatSquare/model
		scale = 1, 2, 1
	}

	// Since we're stretching the model from the middle. One would assume that one side grows 50% and the other the same.
	
	//	node_stack_bottom = 0.0, -0.03, 0.0, 0.0, -1.0, 0.0, 0
	//	node_stack_top = 0, 0.03, 0, 0, 1, 0, 0
	
	// Turns into:
	
	//!node_stack_bottom {}
	//!node_stack_top {}
	
	@node_stack_bottom = 0.0, -0.060, 0.0, 0.0, -1.0, 0.0, 0
	@node_stack_top = 0, 0.060, 0, 0, 1, 0, 0

	%RESOURCE[ElectricCharge]
	{
		%name = ElectricCharge
		%amount = 100
		%maxAmount = 100
	}
}

+PART[35decoupler]
{
	%name = 35decouplerNotReally
	%title = Squarified to Octagonal Adapter
	%fuelCrossFeed = true

	!MODULE[ModuleDecouple] {}
}

//----------------------------------------------------
// Remote Tech Config
//----------------------------------------------------

@PART[MicroSat]:FOR[RemoteTech]
{
	!MODULE[ModuleDataTransmitter] {}
	
	MODULE
	{
		name = ModuleSPU
	}
	
	MODULE
	{
		name = ModuleRTAntennaPassive
		TechRequired = unmannedTech
		OmniRange = 3000
		
		TRANSMITTER
		{
			PacketInterval = 0.3
			PacketSize = 2
			PacketResourceCost = 15.0
		}
	}
}

@PART[foldedDipole]:FOR[RemoteTech]
{
	!MODULE[ModuleDataTransmitter] {}

	@TechRequired = electrics
	%MODULE[ModuleRTAntenna] {
		%IsRTActive = true
		%Mode0OmniRange = 0
		%Mode1OmniRange = 3000000
		%EnergyCost = 0.01
		
		%TRANSMITTER {
			%PacketInterval = 0.3
			%PacketSize = 2
			%PacketResourceCost = 15.0
		}
	}
	
	%MODULE[ModuleSPUPassive] {}
}

@PART[FixedDish01]:FOR[RemoteTech]
{	
	!MODULE[ModuleDataTransmitter] {}

	@TechRequired = advElectrics
	%MODULE[ModuleRTAntenna] {
		%Mode0DishRange = 0
		%Mode1DishRange = 65000000
		%EnergyCost = 0.3
		%DishAngle = 30.0
		
		%TRANSMITTER {
			%PacketInterval = 0.3
			%PacketSize = 2
			%PacketResourceCost = 15.0
		}
	}
	
	%MODULE[ModuleSPUPassive] {}
}

@PART[foldingDish01]:FOR[RemoteTech]
{
	!MODULE[ModuleDataTransmitter] {}
	
	@MODULE[ModuleAnimateGeneric]
	{
		%allowManualControl = false
	}	
	
	%TechRequired = electrics
	%MODULE[ModuleRTAntenna] {
		%Mode0DishRange = 0
		%Mode1DishRange = 32500000
		%EnergyCost = 0.2
		%MaxQ = 6000
		%DishAngle = 45
		
		%DeployFxModules = 0
		
		%TRANSMITTER {
			%PacketInterval = 0.3
			%PacketSize = 2
			%PacketResourceCost = 15.0
		}
	}
	
	%MODULE[ModuleSPUPassive] {}
}
